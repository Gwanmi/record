# 1. 웹의 개념
- 웹에서의 소통은 사용자(Client)와 서버(Server) 간에 이루어지며 다음과 같이 진행된다.
1. 사용자가 URL 혹은 IP로 웹 서버를 호출하여 리퀘스트(Request)에 담아 전송하면 웹 서버는 Request를 받아 처리하거나 WAS로 전달한다.
2. WAS는 리퀘스트를 받아서 처리하며 DB 작업이 필요할 경우 진행
3. 처리 후 웹 서버로 리스폰스(Respons) 회신
4. 웹 서버는 리스폰스를 다시 사용자에게 회신
5. 사용자의 브라우저는 웹 서버가 보내준 코드를 해석해 화면을 구성하여 출력

## 1.1 웹 서비스 구조
- 웹 서버(IIS, Apach) 단일 구성
  - 개발자는 모든 페이지를 만들어둔 뒤 웹 서버에 올리고 사용자가 URL이나 하이퍼링크 등을 누르면 웹 서버가 해당하는 페이지를 사용자에게 보내준다.
  - 페이지는 주로 HTML, CSS, JavaScript로 이루어져 있는데 HTML은 뼈대, CSS는 HTML 컨텐츠를 꾸며주는 정적 언어, JavaScript는 상황에 따라 다른 결과를 출력할 수 있는 동적 스크립트 언어다.
  - 세 언어 모두 웹 서버에서 코드를 보내면 브라우저에서 해석해 실행한다.
  - 복잡한 로직이 들어있는 페이지를 모두 사용자에게 전송해야하고 모든 페이지를 미리 만들어놔야하는 단점이 있다.
- 웹 서버-WAS 구성
  - 요청한 페이지를 단순하게 반환하는 웹 서버와 다르게 받은 리퀘스트를 짜여진 로직대로 잘 처리하여 웹 페이지를 만든 뒤 사용자에게 리스폰스한다. 이때 짜여진 웹 페에지를 웹 서버를 통해 전달된다.
  - Java와 같은 강력한 프로그래밍 언어로 로직을 처리하기 때문에 복잡한 로직을 처리하기 쉽고 사용자는 웹 서버가 주는 페이지만 받아 실행하므로 내부 로직을 알 수 없어 보안성이 강화된다는 장점이 있다. 
  - Web Server와 WAS의 차이
    - 웹 서버: 정적인 데이터(HTML, 이미지)를 처리한다. 속도가 빠르며 동적인 데이터 처리가 필요할 경우 해당 요청을 WAS에 전달한다.
    - WAS: 동적인 데이터(DB, 로직 등)를 처리한다. 웹 서버와 웹 컨테이너(Web Container)로 구성되어있는데 웹 컨테이너가 동적인 데이터를 처리한다. 웹 서버를 갖고 있기 때문에 웹 서버 없이 WAS로만 서버를 구성하는 경우도 있다.
  - WAS에 웹 서버 기능이 있지만 웹 서버와 WAS를 분리 하는 이유?
    - 서버의 부하 방지: WAS가 정적 데이터, 동적 데이터를 모두 처리를 할 수 있다곤 하나 그만큼 WAS에 부담이 많아지게 된다. 그래서 부하를 줄이기 위해 웹 서버와 WAS를 분리한다.
    - 보안 문제: WAS는 웹 어플리케이션에 올라가기때문에 외부와 직접 연결되면 중요한 파일이나 소스들이 노출될 수 있다. 그래서 이를 막기 위해 웹 서버를 WAS보다 웹 서버를 앞단에 위치 시킨다.
    - 웹 서버에 여러 개의 WAS를 연결하기 위해: 규모가 큰 서비스에서는 수많은 요청을 한군데가 아닌 여러 군데에서 처리하기 위해 동일한 웹 어플리케이션을 여러 개 띄운다. 이때 여러 WAS들을 웹서버에 연결해서 웹 서버로 들어오는 수많은 요청을 각 WAS에 적절하게 분배해준다. 
    - 여러 웹 어플리케이션을 서비스: Java 서버, PHP 서버와 같이 서로 다른 서버를 하나의 웹 서버에 연결해서 서비스할 수 있다.


# 2. 웹 게시판 만들기
- Spring FrameWork를 활용하여 개발할 것이며 기본적인 게시판의 구색을 갖춘 뒤 기능을 추가하거나 다듬는 방식으로 진행할 계획이다.
- 환경은 MacOS이며 IDE는 IntelliJ 그리고 Spring Boot를 사용한다.

## 들어가기 앞서
### 스프링(Spring)이란
- Java/Kotlin 기반의 웹 프레임워크로 쉽고 빠르게 웹 사이트를 만들 수 있게 해준다.
  - **프레임워크(FrameWork)** 는 여러 기능을 가진 클래스와 라이브러리가 특정 결과물을 구현하고자 합쳐진 형태로 웹 프레임워크는 웹 서버를 구현하기 위해 만들어진 프레임워크라 할 수 있다.
- 스프링의 주요 특징은 다음과 같다.
  - IoC(Inversion of Control, 제어반전)
    - IoC란 객체의 생성부터 소멸까지 객체 생명주기 관리를 개발자가 하는게 아닌 스프링(컨테이너)이 대신 해주는 것
    - 프로젝트의 규모가 커질수록 객체와 자원을 이용하는 방법이 더 복잡해지고 어디서 코드가 꼬일지 모르는 것을 스프링의 IoC는 자동으로 관리해준다.
    - 즉, 제어권이 개발자가 아닌 IoC에게 있으며 IoC가 개발자의 코드를 호출하여 그 코드로 생명주기를 제어하는 것이다.
  - DI(Dependency Injection, 의존성 주입)
    - 프로그래밍에서 구성요소간의 의존관계가 소스코드 내부가 아닌 외부의 설정파일에 의해 정의되는 방식이다.
    - 코드 재사용성을 높여 소스코드를 다양한 곳에 사용할 수 있으며 모듈간의 결합도도 낮출 수 있다.
  - AOP(Aspect Object Programming, 관점 지향 프로그래밍)
    - 로깅, 트랜잭션, 보안 등 여러 모듈에서 공통적으로 사용하는 기능을 분리하여 관리할 수 있다.
    - 각각의 클래스가 있다고 가정할 때 각 클래스들은 서로 코드와 기능들이 중복되는 부분이 많다. 코드가 중복될 경우 실용성과 가독성 및 개발 속도에 좋지 않은데 중복되는 기능들을 전부 빼놓은 뒤 그 기능이 필요할때만 호출하여 쓰면 훨씬 효율성이 좋다.
    - 즉, AOP는 여러 객체에 공통으로 적용할 수 있는 기능을 구분함으로써 재사용성을 높여주는 프로그래밍 기법이다.
  - POJO(Plain Old Java Project) 방식
    - POJO는 Java EE를 사용하면서 해당 플랫폼에 종속되어 있는 무거운 객체들을 만드는 것에 반발하여 나타난 용어이다.
    - 별도의 프레임 워크 없이 Java EE를 사용할 때에 비해 인터페이스를 직접 구현하거나 상속받을 필요가 없어 기존 라이브러리를 지원하기 용이하고, 객체가 가볍다.
    - 즉, getter/setter를 가진 단순한 자바 오브젝트를 말한다.

### STS와 스프링 부트(Spring Boot)의 차이
- **STS**
  - Spring Tool Suite의 약자로 스프링 개발에 최적화된 이클립스(Eclipse)라 할 수 있는데 이클립스 베이스에 스프링 프레임워크 플러그인이 추가된 버전이다.
  - 이클립스는 톰캣을 직접 설치하고 따로 설정해줘야 하는데 STS는 개발자용 톰캣 서버를 설치, 실행해주는 편리함이 있다.
- **스프링 부트(Spring Boot)**
  - 스프링 프레임워크는 기능이 많은 많은 환경설정이 복잡한 편인데 이런 환경설정을 편하게 만들어서 나온게 스프링 부트다.
  - 설정의 많은 부분을 자동화하여 사용자가 편하게 개발할 수 있도록 돕는다.
  - 심지어 스프링 홈페이지의 이니셜라이즈를 사용하면 바로 실행 가능한 코드를 만들어준다.
 

## 2.1 Java 설치 후 환경 변수 설정 하기
- terminal 실행 후 'cd /Library/Java/JavaVirtualMachines'로 들어가 설치된 jdk 확인
- 해당 경로에서 'cd (설치된 jdk).jdk/Contents/Home'를 들어가 pwd로 경로를 복사
- 복사한 경로를 'vi ~/.bash_profile'로 열어 'export JAVA_HOME=복사한 경로' 입력 후 저장
- 'java -version'을 입력하여 버전을 확인

## 2.2 Spring Project 생성
- https://start.spring.io/ <- 여기에서 생성한다.
- Project: 프로젝트는 Maven과 Gradle이 있는데 빌드 관리도구로 요즘은 Gradle을 더 많이 쓴다고하니 나도 Gradle로 간다.
- Spring Boot: 2.7.1로 설정. 그리고 스프링 버전 차이점
  - Snapshot
    - daily build 버전, 실험 중인 버전으로 새로 개발 중인 기능이 있을 수 있다(인터페이스가 변경 될 수 있음)
  - M(Milstone)
    - Snapshot 보다 정리가 잘 되어 있는 버전, 실험 중인 버전으로 새로 개발 중인 기능이 있을 수 있다(인터페이스가 변경 될 수 있음)
  - RC(Release candidate)
    - Milstone 본다 더 정리가 잘 되어저 배포된 버전으로 웬만하면 개발된 기능들은 그대로 배포된다.
  - ga
    - 최종 release 버전
- Packaging: Jar로 설정. 그리고 Jar, War 차이점
  - 둘 다 Java의 jar 옵션 (java -jar)을 이용해 생성된 압축(아카이브) 파일로, 애플리케이션을 쉽게 배포하고 동작시킬 수 있도록 관련 파일(리소스, 속성 파일 등)을 패키징 한 것.
  - JAR (Java Archive)
    - JAVA 어플리케이션이 동작할 수 있도록 자바 프로젝트를 압축한 파일
    - Class (JAVA리소스, 속성 파일), 라이브러리 파일을 포함함
    - JRE(JAVA Runtime Environment)만 있어도 실행 가능함 (java -jar 프로젝트네임.jar)
  - WAR (Web Application Archive)
    - Servlet / Jsp 컨테이너에 배치할 수 있는 웹 애플리케이션(Web Application) 압축파일 포맷
    - 웹 관련 자원을 포함함 (JSP, Servlet, JAR, Class, XML, HTML, Javascript)
    - 사전 정의된 구조를 사용함 (WEB-INF, META-INF)
    - 별도의 웹서버(WEB) or 웹 컨테이너(WAS) 필요
    - 즉, JAR파일의 일종으로 웹 애플리케이션 전체를 패키징 하기 위한 JAR 파일이다.
- Java 버전: 17
- Dependencies
  - Developer Tools: Spring Boot DevTools, Lombok
  - DB: H2, MyBatis Framework
  - Web: Spring Web
  - Template Engines: Thymeleaf

- 위와 같이 설정이 됐으면 Generate하여 Zip 파일 다운 후 압축해제
- Finder로 압축해제 후 적절한 디렉토리에 옮기거나 생성해서 이동
